"use strict"

module "wire"

test "traverse object by path", ->
  o = {a: {b: {c: 1}}}
  deepEqual(wire.path(o, 'a.b.c'), 1)
  deepEqual(wire.path(o, 'a.b'), {c: 1})
  deepEqual(wire.path(o, 'a'), {b: {c: 1}})
  deepEqual(wire.path(o, ''), {a: {b: {c: 1}}})
  deepEqual(wire.path(o), {a: {b: {c: 1}}})

  deepEqual(wire.path(o, 'b'), undefined)
  deepEqual(wire.path(o, 'b.c'), undefined)

  o = {a: [1, {b: 2}]}
  deepEqual(wire.path(o, 'a'), [1, {b: 2}])
  deepEqual(wire.path(o, 'a.0'), 1)
  deepEqual(wire.path(o, 'a.1'), {b: 2})
  deepEqual(wire.path(o, 'a.1.b'), 2)
