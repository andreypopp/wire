'use strict'

module 'wire.View'

test 'propagates events from attributes', ->
  expect(1)

  o = {}
  _.extend(o, wire.Event)

  class MyView extends wire.View
    -> super ...

    events:
      'ping this.o': 'trigger pong'

  view = new MyView(o: o)
  view.on('pong', -> ok(true))
  view.o.trigger('ping')

test 'propagates events from DOM', ->
  expect(3)

  class MyView extends wire.View
    -> super ...

    events:
      'click': 'trigger pong'
      'click #testElement': 'trigger pong'

  view = new MyView(el: $('body'))
  view.on('pong', -> ok(true))
  view.el.click()
  view.$('#testElement').click()
